<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>InicioXX</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    :root{
      --ink:#0f172a;
      --muted:#6b7280;
      --line:#e5e7eb;
      --primary:#16a34a;
      --primary-dark:#15803d;
      --accent:#2563eb;
      --danger:#dc2626;
      --bg:#ffffff;
      --card:#ffffff;
    }
    *{box-sizing:border-box;}
    html,body{
      margin:0;
      padding:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      background:var(--bg);
      color:var(--ink);
      min-height:100%;
    }
    body{
      display:flex;
      flex-direction:column;
      align-items:center;
    }
    .page{
      width:100%;
      max-width:1100px;
      padding:20px 16px 32px;
    }

    .brand-logo{
      display:flex;
      justify-content:center;
      margin-bottom:8px;
      margin-top:4px;
    }
    .brand-logo img{
      max-width:320px;
      height:auto;
      display:block;
      filter:drop-shadow(0 8px 22px rgba(15,23,42,0.28));
    }

    .header{
      display:flex;
      align-items:center;
      gap:10px;
      margin-bottom:18px;
      margin-top:0;
      justify-content:center;
      text-align:center;
    }
    .avatar{ display:none; }
    .header-text h1{
      margin:0;
      font-size:18px;
      font-weight:800;
      letter-spacing:.03em;
      text-transform:uppercase;
    }
    .header-text span{
      display:block;
      font-size:12px;
      color:var(--muted);
    }

    .card{
      background:var(--card);
      border-radius:22px;
      border:1px solid rgba(148,163,184,0.4);
      box-shadow:0 24px 60px rgba(15,23,42,0.10);
      padding:22px 22px 20px;
      margin:0 auto;
      max-width:960px;
    }
    .card-subtitle{
      font-size:13px;
      color:var(--muted);
      margin-bottom:14px;
      max-width:720px;
    }

    .login-block{
      border-radius:14px;
      background:#f9fafb;
      border:1px dashed var(--line);
      padding:10px 12px 12px;
      margin-bottom:14px;
      display:flex;
      flex-wrap:wrap;
      gap:8px 12px;
      align-items:flex-start;
    }
    .login-left{
      flex:1 1 210px;
      min-width:0;
    }
    .login-right{
      flex:0 0 200px;
      display:flex;
      flex-direction:column;
      gap:6px;
      align-items:stretch;
    }
    .login-label{
      font-size:12px;
      font-weight:600;
      margin-bottom:3px;
    }
    .login-hint{
      font-size:11px;
      color:var(--muted);
      margin-top:3px;
    }
    input[type="password"]{
      width:100%;
      padding:7px 10px;
      font-size:13px;
      border-radius:999px;
      border:1px solid #cbd5f5;
      outline:none;
      transition:border-color .15s, box-shadow .15s;
    }
    input[type="password"]:focus{
      border-color:var(--accent);
      box-shadow:0 0 0 1px rgba(37,99,235,0.18);
    }
    .btn{
      padding:8px 12px;
      font-size:13px;
      font-weight:700;
      border-radius:999px;
      border:none;
      cursor:pointer;
      background:var(--primary);
      color:#fff;
      box-shadow:0 10px 18px rgba(22,163,74,0.25);
      transition:background .15s, transform .05s, box-shadow .1s;
    }
    .btn:hover{
      background:var(--primary-dark);
      transform:translateY(-1px);
      box-shadow:0 14px 26px rgba(22,163,74,0.35);
    }
    .btn:active{
      transform:translateY(0);
      box-shadow:0 8px 16px rgba(22,163,74,0.22);
    }
    .btn-logout{
      background:#ffffff;
      color:#111827;
      border:1px solid #d1d5db;
      box-shadow:none;
    }
    .btn-logout:hover{
      background:#f3f4f6;
      transform:translateY(-1px);
      box-shadow:none;
    }

    .msg{
      font-size:12px;
      min-height:16px;
      margin-top:2px;
    }
    .msg.err{color:#dc2626;}
    .msg.ok{color:#16a34a;}

    .menu{
      margin-top:10px;
      display:none;
    }

    .catalog{
      display:flex;
      flex-direction:column;
      gap:14px;
    }
    .catalog-section{
      border-top:1px solid rgba(229,231,235,0.9);
      padding-top:12px;
      margin-top:6px;
    }
    .catalog-section:first-child{
      border-top:none;
      padding-top:0;
      margin-top:0;
    }
    .catalog-title{
      margin:0 0 10px;
      font-size:13px;
      font-weight:900;
      letter-spacing:.03em;
      text-transform:uppercase;
      color:#0b1220;
    }

    .menu-grid{
      display:grid;
      grid-template-columns:1fr;
      gap:14px;
    }
    @media (min-width:720px){
      .menu-grid{
        grid-template-columns:1fr 1fr;
      }
    }

    .pane{
      border-radius:16px;
      border:1px solid var(--line);
      background:#f9fafb;
      padding:14px 14px 12px;
      position:relative;
      overflow:hidden;
    }
    .pane h2{
      margin:0;
      font-size:14px;
      font-weight:800;
    }
    .pane-tag{
      display:inline-block;
      margin-left:6px;
      padding:1px 8px;
      border-radius:999px;
      font-size:10px;
      font-weight:600;
      background:#dcfce7;
      color:#166534;
      vertical-align:middle;
    }
    .pane-tag.alt{
      background:#dbeafe;
      color:#1d4ed8;
    }
    .pane-tag.gold{
      background:#fef9c3;
      color:#854d0e;
    }
    .pane p{
      margin:6px 0 10px;
      font-size:12px;
      color:var(--muted);
      max-width:520px;
    }
    .pane-button{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:8px 14px;
      border-radius:999px;
      border:none;
      cursor:pointer;
      font-size:13px;
      font-weight:700;
      background:#16a34a;
      color:#fff;
      text-decoration:none;
      box-shadow:0 10px 20px rgba(22,163,74,0.30);
      transition:background .15s, transform .05s, box-shadow .1s;
    }
    .pane-button:hover{
      background:#15803d;
      transform:translateY(-1px);
      box-shadow:0 14px 26px rgba(22,163,74,0.35);
    }
    .pane-button:active{
      transform:translateY(0);
      box-shadow:0 8px 16px rgba(22,163,74,0.24);
    }
    .btn-secondary{
      background:#2563eb;
      box-shadow:0 10px 20px rgba(37,99,235,0.30);
    }
    .btn-secondary:hover{
      background:#1d4ed8;
      box-shadow:0 14px 26px rgba(37,99,235,0.35);
    }
    .pane-button span.icon{ font-size:14px; }

    .footer{
      text-align:center;
      font-size:11px;
      color:var(--muted);
      margin-top:18px;
    }
  </style>
</head>
<body>
  <div class="page">

    <div class="brand-logo">
      <img src="assets/logo_adalam.png" alt="ADALAM">
    </div>

    <header class="header">
      <div class="header-text">
        <h1>PLATAFORMA DE EVALUACIONES ADALAM</h1>
        <span>Sistema para aplicar evaluaciones y consultar reportes individuales</span>
      </div>
    </header>

    <main class="card">
      <p class="card-subtitle">
        Para continuar, ingresa la contrase√±a de acceso proporcionada por el administrador.
        Una vez validada podr√°s elegir entre aplicar la evaluaci√≥n o consultar los reportes individuales.
      </p>

      <section class="login-block">
        <div class="login-left">
          <div class="login-label">Contrase√±a de acceso</div>
          <input type="password" id="passInput" autocomplete="off" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
          <div id="msg" class="msg"></div>
          <div class="login-hint">
            Acceso restringido. Si olvidaste la contrase√±a, contacta al coordinador del proyecto.
          </div>
        </div>
        <div class="login-right">
          <button class="btn" id="btnEntrar">Validar contrase√±a</button>
          <button class="btn btn-logout" id="btnSalir" type="button" style="display:none;">Cerrar sesi√≥n</button>
        </div>
      </section>

      <section id="menu" class="menu">
        <div class="catalog">

          <!-- SOCIOEMOCIONAL -->
          <section class="catalog-section">
            <h2 class="catalog-title">EVALUACI√ìN SOCIOEMOCIONAL</h2>

            <div class="menu-grid">
              <article class="pane">
                <h2>Evaluaci√≥n <span class="pane-tag">Participante</span></h2>
                <p>
                  Inicia el formulario para responder la Evaluaci√≥n Socioemocional.
                </p>
                <a href="evaluacion.html" class="pane-button">
                  <span class="icon">‚ñ∂</span>
                  <span>Iniciar evaluaci√≥n</span>
                </a>
              </article>

              <article class="pane">
                <h2>Ver Reporte <span class="pane-tag alt">Individual</span></h2>
                <p>
                  Ingresa el c√≥digo de evaluaci√≥n (por ejemplo, EMOCIONAL001) para visualizar la gr√°fica individual
                  y el informe socioemocional.
                </p>
                <a href="reporte10.html" class="pane-button btn-secondary">
                  <span class="icon">üìä</span>
                  <span>Ver reporte</span>
                </a>
              </article>
            </div>
          </section>

          <!-- VALORES E INTEGRIDAD -->
          <section class="catalog-section">
            <h2 class="catalog-title">EVALUACI√ìN VALORES E INTEGRIDAD</h2>

            <div class="menu-grid">
              <article class="pane">
                <h2>Evaluaci√≥n <span class="pane-tag gold">Nuevo</span></h2>
                <p>
                  Inicia el formulario para responder la Evaluaci√≥n de Valores e Integridad.
                </p>
                <a href="evaluacion-valores.html" class="pane-button">
                  <span class="icon">‚ñ∂</span>
                  <span>Iniciar evaluaci√≥n</span>
                </a>
              </article>

              <article class="pane">
                <h2>Ver Reporte <span class="pane-tag alt">Individual</span></h2>
                <p>
                  Ingresa el c√≥digo de evaluaci√≥n (por ejemplo, INTEGRIDAD001) para visualizar la gr√°fica individual
                  y el informe de valores e integridad.
                </p>
                <a href="reporte-valores.html" class="pane-button btn-secondary">
                  <span class="icon">üìä</span>
                  <span>Ver reporte</span>
                </a>
              </article>
            </div>
          </section>

        </div>
      </section>
    </main>

    <footer class="footer">
      Plataforma de Evaluaciones ¬∑ Uso Institucional
    </footer>
  </div>

<script>
  const ACCESS_PASSWORD = "ADALAM";

  // === Sesi√≥n temporal (Opci√≥n 2) ===
  const ACCESS_SESSION_KEY = "adal_access_session";
  const ACCESS_SESSION_HOURS = 6; // cambia si quieres (2,4,8)

  function setAccessSession(){
    const expiresAt = Date.now() + ACCESS_SESSION_HOURS * 60 * 60 * 1000;
    const payload = { ok: true, expiresAt };
    try { localStorage.setItem(ACCESS_SESSION_KEY, JSON.stringify(payload)); } catch {}
  }
  function hasValidAccessSession(){
    try{
      const raw = localStorage.getItem(ACCESS_SESSION_KEY);
      if(!raw) return false;
      const s = JSON.parse(raw);
      return !!s.ok && typeof s.expiresAt === "number" && Date.now() < s.expiresAt;
    } catch {
      return false;
    }
  }
  function clearAccessSession(){
    try { localStorage.removeItem(ACCESS_SESSION_KEY); } catch {}
  }

  const $ = sel => document.querySelector(sel);
  const passInput = $("#passInput");
  const btnEntrar = $("#btnEntrar");
  const btnSalir  = $("#btnSalir");
  const msg = $("#msg");
  const menu = $("#menu");

  function showMenu(){
    menu.style.display = "block";
    btnSalir.style.display = "inline-block";
  }
  function hideMenu(){
    menu.style.display = "none";
    btnSalir.style.display = "none";
  }

  function checkPassword(){
    const value = (passInput.value || "").trim();
    if(!value){
      msg.textContent = "Ingresa la contrase√±a.";
      msg.className = "msg err";
      hideMenu();
      return;
    }
    if(value === ACCESS_PASSWORD){
      setAccessSession();
      msg.textContent = "Acceso concedido.";
      msg.className = "msg ok";
      showMenu();
    }else{
      msg.textContent = "Contrase√±a incorrecta.";
      msg.className = "msg err";
      hideMenu();
    }
  }

  btnEntrar.addEventListener("click", checkPassword);
  passInput.addEventListener("keydown", e=>{
    if(e.key === "Enter"){
      checkPassword();
    }
  });

  btnSalir.addEventListener("click", ()=>{
    clearAccessSession();
    msg.textContent = "Sesi√≥n cerrada.";
    msg.className = "msg";
    passInput.value = "";
    hideMenu();
  });

  window.addEventListener("DOMContentLoaded", ()=>{
    if(hasValidAccessSession()){
      msg.textContent = "Acceso activo.";
      msg.className = "msg ok";
      showMenu();
    }
  });
</script>
</body>
</html>
